{% extends 'layout.html' %}
{% block title %}Indicators{% endblock %}

{% block head %}
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h3>Data Insights</h3>
    </div>
    <div class="card-body">
        <p>These charts visualize information from our dataset, helping to understand the data's characteristics.</p>
        <div class="row mt-4">
            <div class="col-md-6">
                <h5 class="text-center">Traffic Situation Distribution</h5>
                <canvas id="trafficPieChart"></canvas>
            </div>
            <div class="col-md-6">
                <h5 class="text-center">Average Vehicle Counts</h5>
                <canvas id="vehicleBarChart"></canvas>
            </div>
        </div>
    </div>
</div>

<script>
    // This script runs after the page loads
    document.addEventListener('DOMContentLoaded', function() {
        // Pie Chart
        const pieCtx = document.getElementById('trafficPieChart').getContext('2d');
        new Chart(pieCtx, {
            type: 'pie',
            data: {
                labels: ['Heavy', 'High', 'Normal', 'Low'],
                datasets: [{
                    data: [1343, 1141, 1391, 1029],
                    backgroundColor: ['#d9534f', '#f0ad4e', '#5bc0de', '#5cb85c']
                }]
            }
        });

        // Bar Chart
        const barCtx = document.getElementById('vehicleBarChart').getContext('2d');
        new Chart(barCtx, {
            type: 'bar',
            data: {
                labels: ['Car', 'Bike', 'Bus', 'Truck'],
                datasets: [{
                    label: 'Average Count',
                    data: [67, 49, 24, 25],
                    backgroundColor: '#5bc0de'
                }]
            }
        });
    });
</script>
{% endblock %}